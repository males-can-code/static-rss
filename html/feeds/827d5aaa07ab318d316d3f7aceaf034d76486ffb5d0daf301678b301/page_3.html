<HTML>
<link rel="stylesheet" type="text/css" href="/home/eco/bin/apps/static-rss/css/stylesheet.css" />
<script type="text/javascript">
document.write("<meta http-equiv='refresh' content='30' >");
</script>
<BODY>
<DIV id="main_wrapper">
<DIV id="feed_sidebar">
<UL>
<LI>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_1.html" class="read">Web Upd8 - Ubuntu / Linux blog</A>
</LI>

<LI>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/59b7394763caa72ed2601dbcfd3f12ced4ae69504836ee6fbb481de9/page_1.html" class="read">Raspberry Pi</A>
</LI>

<LI>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/848fce29bf61af2aa9481f3657100956ec076ea8f17a3f8975b83c56/page_1.html" class="read">NASA Image of the Day (Large)</A>
</LI>

<LI>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/272c6e9cf1b4ce5729f3697c19311b5c0d9a5e11c3188509a43e8707/page_1.html" class="read">OSNews</A>
</LI>

<LI>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/7d2efe20a061111e51d4c0bdf09a6c38294b9197039b9fdf2eb6b682/page_1.html" class="read">Inconsolation</A>
</LI>

<LI>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/56d2afb78088f1c614c103d49a59f2320ed19929747c000c0765ba4a/page_1.html" class="read">Iloveubuntu: Ubuntu blog</A>
</LI>

<LI>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/61c07c550600104b2b5eb7e05e565a4b3aeee22299f253f466cb6aa2/page_1.html" class="read">BBC News - Home</A>
</LI>


</UL>
</DIV>

<DIV id="entry_sidebar">

<UL>
<LI>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_1.html#67abd786573d0fb02ad48e97ae99b33b729f5fa4c85a9269263b78fe" class="read">Download AirDroid 2 APK, Now With Remote Camera, Find My Phone Features [Android]</A>
</LI>

<LI>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_2.html#781be8d160d691e73a2da3774ff143cfd57c3642282777c439f66192" class="read">Work Started On Cinnamon Screensaver (Forked From GNOME Screensaver 3.4)</A>
</LI>

<LI>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_2.html#e0b2a34a202f31d94da2f44a68448ce941803884227cb5d48e9d2410" class="read">GNOME Shell 3.8: Redesigned Search</A>
</LI>

<LI>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_2.html#1382770a0e44556b3cc8fc268dc7035d798ba66a0a9915b4824b3080" class="read">Fedora 18 `Spherical Cow` Released</A>
</LI>

<LI>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_3.html#caaa7321aed35eac8f318572e2bde95f179b6fc1bbf8f00885b48896" class="read">Enable TRIM On SSD (Solid-State Drives) In Ubuntu For Better Performance</A>
</LI>


</UL>

</DIV>

<DIV id="feed_wrapper">

<DIV id="feed_title">
Web Upd8 - Ubuntu / Linux blog
</DIV>

<DIV id="page_links">

<A HREF=/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_2.html><</A>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_1.html">1</A>

<A HREF="/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_2.html">2</A>

<A HREF="/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_3.html">3</A>


<A HREF=/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_3.html>></A>

</DIV>

<DIV id="feed_content_wrapper">
<DIV id="entry_box">
<A name="caaa7321aed35eac8f318572e2bde95f179b6fc1bbf8f00885b48896"></>
<DIV id="entry_title"><A HREF="http://feedproxy.google.com/~r/webupd8/~3/GN6kY-V18uk/enable-trim-on-ssd-solid-state-drives.html" class="read">Enable TRIM On SSD (Solid-State Drives) In Ubuntu For Better Performance</A></DIV>
<DIV id="entry_content"><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-gCRPfV7gNz8/UPVkM5Ro5PI/AAAAAAAAMtg/NVO3xwQ5lOg/s1600/kingston-ssd-120gb-v200.jpg" style="margin-left: 1em; margin-right: 1em;"><img alt="kingston ssd 120gb v200" border="0" height="178" src="http://1.bp.blogspot.com/-gCRPfV7gNz8/UPVkM5Ro5PI/AAAAAAAAMtg/NVO3xwQ5lOg/s320/kingston-ssd-120gb-v200.jpg" title="kingston ssd 120gb v200" width="320" /></a></div><div style="text-align: justify;"><br /></div><div style="text-align: justify;"><br /></div><div style="text-align: justify;"><b>TRIM allows the OS to "<i>inform a solid-state drive (<a href="http://www.amazon.com/gp/product/B006YLTY2O/ref=as_li_tf_tl?ie=UTF8&amp;tag=weup-21-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B006YLTY2O">SDD</a>) which blocks of data are no longer considered in use and can be wiped internally</i>". Without using TRIM, the SSD speed decreases after a while so if you have a solid-state drive that supports TRIM, you should enable it so your SSD remains fast over time.</b></div><br /><div style="text-align: justify;">This isn't easy to benchmark because the performance decreases over time so you'd neet to check the SSD speed constantly for a few months to see exactly how the SSD is affected when TRIM is not enabled. But if your SSD read / write speed decreases a lot over time and you haven't enabled TRIM, this may be way.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;"><b>Some articles mention using online discard</b> - enabling TRIM by adding the "discard" option to /etc/fstab -, <b>but there are many <a href="http://opensuse.14.n6.nabble.com/SSD-detection-when-creating-first-time-fstab-td3313048.html">who</a> <a href="https://patrick-nagel.net/blog/archives/337">say</a> this isn't a good idea for most solid-state drives</b> and you'll get a pretty significant performance hit when trying to delete a large number of small files. So <b>below I'll let you know how to use both of these methods: online discard (not recommended) and the recommended way: using fstrim and a cron (anacron) job.</b></div><br /><div style="text-align: justify;"><i>Note: the instructions below have been tested in Ubuntu, but they may (most probably) work with other Linux distributions as well.</i></div><br /><a name="more"></a><b>Before enabling TRIM, you must make sure:</b><br /><ul><li>you're using the Linux Kernel 2.6.33 or newer</li><li>your SSD supports TRIM</li><li>the partition(s) are EXT4 or BTRFS<b>*</b></li></ul><br /><div style="text-align: justify;"><b>*</b> Since not many people are using BTRFS, this post will only cover enabling TRIM on EXT4 partitions.</div><br /><div style="text-align: justify;"><b>If you're unsure if your SSD supports TRIM, you can run the following command:</b></div><pre class="linux-code"><code>sudo hdparm -I /dev/sda | grep "TRIM supported"</code></pre><br /><div style="text-align: justify;">Where "<i>/dev/sda</i>" is the solid-state drive (it may be <i>/dev/sdb</i>, <i>/dev/sdc</i>, etc. for you), and the command should return something like this: "<i>Data Set Management TRIM supported (limit 8 blocks)</i>" (if there's no output, your SSD doesn't support TRIM).&nbsp; If you don't know what to use here, you can get a list of hard disks and their partitions by using the following command:</div><pre class="linux-code"><code>sudo fdisk -l</code></pre><br /><br /><h2>Enable TRIM for solid-state drives (SSD) in Linux</h2><br /><h3>Using online discard (fstab) - not recommended</h3><br /><div style="text-align: justify;">If the conditions above are met, you can proceed to enable TRIM for your SSD. <b>If you want to use the online discard option (not recommended!)</b>, open <i>/etc/fstab</i> as root with a text editor:</div><pre class="linux-code"><code>gksu gedit /etc/fstab</code></pre><br /><div style="text-align: justify;">And add the "discard" option (separated by a comma and no space!) to the SSD partitions you want to enable TRIM for. Here's an example:</div><pre class="source-code"><code>&lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;<br /># / was on /dev/sdb1 during installation<br />UUID=1cd2fc4f-7d99-4c7a-8ea7-6f9a2d5e5960 /               ext4    <b>discard</b>,errors=remount-ro 0       1</code></pre><br /><br /><h3>Using a daily cron job - recommended</h3><br /><div style="text-align: justify;">Using a daily cron job, the SSD trimming will occur once every day.<b> </b><br /><br /><b>To use a daily cron job</b> (so the trimming will occur once a day) <b>for TRIM</b> <b>(fstrim)</b>, open <i>/etc/cron.daily/trim</i> as root with a text editor (<i>/etc/cron.daily/trim</i> doesn't exist so this will create the file):</div><pre class="source-code"><code>gksu gedit /etc/cron.daily/trim</code></pre>&nbsp;and paste this:<br /><pre class="source-code"><code>#!/bin/sh<br />LOG=/var/log/trim.log<br />echo "*** $(date -R) ***" &gt;&gt; $LOG<br />fstrim -v / &gt;&gt; $LOG<br />fstrim -v /home &gt;&gt; $LOG</code></pre><br /><div style="text-align: justify;"><b>The last two commands in the code above perform the actual trimming</b> for the root (/) and home (/home) partition and<b> you need to edit them</b>: here, add the SSD partitions for which you want to enable the daily TRIM job (usually, you must add "/" if the root partition is on the SSD and "/home" if you've set up a separate home partition). </div><br />Before saving the file, you can <b>check if the fstrim command works:</b><br /><pre class="linux-code"><code>sudo fstrim -v /</code></pre><br />The output should look similar to this:<br /><pre class="linux-code"><code>andrei@ubuntu-desktop:~$ sudo fstrim -v /<br />/: 8158715904 bytes were trimmed</code></pre><br /><div style="text-align: justify;"><b>Once you've added your SSD partitions, save the file and make it executable using the following command:</b></div><pre class="linux-code"><code>sudo chmod +x /etc/cron.daily/trim</code></pre><br /><div style="text-align: justify;"><b>Ubuntu executes the daily cron</b> (<b>we're using anacron, so even if your computer is turned off at that time, the job will still be performed later on</b>) <b>jobs at around 06:25</b> so each day after that time, you can check the <i>/var/log/trim.log</i> log file to see the <i>fstrim</i> output.</div><br /><br /><h3>For encrypted partitions</h3><br /><div style="text-align: justify;">If you're using an encrypted partition, you'll have to perform some extra steps for this to work (<b>not tested because I don't have any encrypted partitions</b>!): edit <i>/etc/default/grub</i> as root:</div><pre class="linux-code"><code>gksu gedit /etc/default/grub</code></pre><br /><div style="text-align: justify;">And add the following options under <i>GRUB_CMDLINE_LINUX=""</i> (it should be around line 12 in that file):</div><pre class="source-code"><code>"allow-discards root_trim=yes"</code></pre><br />After editing the file, it should look like this:<br /><br /><pre class="source-code"><code>GRUB_DISTRIBUTOR=`lsb_release -i -s 2&gt; /dev/null || echo Debian`<br />GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"<br /><b>GRUB_CMDLINE_LINUX="allow-discards root_trim=yes"</b></code></pre><br />Then, save the file and update GRUB:<br /><pre class="linux-code"><code>sudo update-grub</code></pre><br />Now edit <i>/etc/crypttab</i> as root:<br /><pre class="linux-code"><code>gksu gedit /etc/crypttab</code></pre><br />And add the "discard" option for the SSD partitions, like this (example):<br /><pre class="source-code"><code>#&lt;target name&gt;    &lt;source device&gt;            &lt;key file&gt;  &lt;options&gt;<br />var  UUID=01234567-89ab-cdef-0123-456789abcdef  none  luks,<b>discard</b></code></pre><br />And finally, run the following command:<br /><pre class="linux-code"><code>sudo update-initramfs -u -k all</code></pre><br /><br /><div style="text-align: justify;">The above instructions (except for the encrypted partition part, which I can't test) have been tested on Ubuntu 12.10 and 13.04 (SSD: <a class="external" href="http://www.amazon.com/gp/product/B006YLTY2O/ref=as_li_tf_tl?ie=UTF8&amp;tag=weup-21-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B006YLTY2O" rel="nofollow">KINGSTON SVP200S 120 GB</a>).</div><br /><br />References / further reading:<br /><ul><li><a href="http://en.wikipedia.org/wiki/TRIM">http://en.wikipedia.org/wiki/TRIM</a></li><li><a href="http://wiki.debian.org/SSDoptimization">http://wiki.debian.org/SSDoptimization</a></li><li><a href="http://wiki.ubuntuusers.de/SSD/TRIM">http://wiki.ubuntuusers.de/SSD/TRIM</a> (German)</li><li><a href="http://opensuse.14.n6.nabble.com/SSD-detection-when-creating-first-time-fstab-td3313048.html">http://opensuse.14.n6.nabble.com/SSD-detection-when-creating-first-time-fstab-td3313048.html </a></li><li><a href="https://patrick-nagel.net/blog/archives/337">https://patrick-nagel.net/blog/archives/337</a></li></ul><div class="blogger-post-footer"><hr />
<p>Originally published at <a href="http://www.webupd8.org">WebUpd8: Daily Ubuntu / Linux news and application reviews</a>.</p>
<img border="0" src="http://c.statcounter.com/counter.php?sc_project=4594652&amp;java=0&amp;security=c8929556&amp;invisible=1" /></div><div class="feedflare">
<a href="http://feeds.feedburner.com/~ff/webupd8?a=GN6kY-V18uk:XoQKC796_6c:JO5tD9-akdk"><img border="0" src="http://feeds.feedburner.com/~ff/webupd8?i=GN6kY-V18uk:XoQKC796_6c:JO5tD9-akdk" /></a> <a href="http://feeds.feedburner.com/~ff/webupd8?a=GN6kY-V18uk:XoQKC796_6c:yIl2AUoC8zA"><img border="0" src="http://feeds.feedburner.com/~ff/webupd8?d=yIl2AUoC8zA" /></a> <a href="http://feeds.feedburner.com/~ff/webupd8?a=GN6kY-V18uk:XoQKC796_6c:F7zBnMyn0Lo"><img border="0" src="http://feeds.feedburner.com/~ff/webupd8?i=GN6kY-V18uk:XoQKC796_6c:F7zBnMyn0Lo" /></a> <a href="http://feeds.feedburner.com/~ff/webupd8?a=GN6kY-V18uk:XoQKC796_6c:qj6IDK7rITs"><img border="0" src="http://feeds.feedburner.com/~ff/webupd8?d=qj6IDK7rITs" /></a> <a href="http://feeds.feedburner.com/~ff/webupd8?a=GN6kY-V18uk:XoQKC796_6c:GpuqGqRPqxU"><img border="0" src="http://feeds.feedburner.com/~ff/webupd8?d=GpuqGqRPqxU" /></a> <a href="http://feeds.feedburner.com/~ff/webupd8?a=GN6kY-V18uk:XoQKC796_6c:3k7XFKuwfg0"><img border="0" src="http://feeds.feedburner.com/~ff/webupd8?d=3k7XFKuwfg0" /></a> <a href="http://feeds.feedburner.com/~ff/webupd8?a=GN6kY-V18uk:XoQKC796_6c:KGf-JMduG9I"><img border="0" src="http://feeds.feedburner.com/~ff/webupd8?d=KGf-JMduG9I" /></a> <a href="http://feeds.feedburner.com/~ff/webupd8?a=GN6kY-V18uk:XoQKC796_6c:Y9kCARWg6Fw"><img border="0" src="http://feeds.feedburner.com/~ff/webupd8?d=Y9kCARWg6Fw" /></a> <a href="http://feeds.feedburner.com/~ff/webupd8?a=GN6kY-V18uk:XoQKC796_6c:gIN9vFwOqvQ"><img border="0" src="http://feeds.feedburner.com/~ff/webupd8?i=GN6kY-V18uk:XoQKC796_6c:gIN9vFwOqvQ" /></a>
</div><img height="1" src="http://feeds.feedburner.com/~r/webupd8/~4/GN6kY-V18uk" width="1" /></DIV>
</DIV>


</DIV>

<DIV id="page_links">

<A HREF=/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_2.html><</A>
<A HREF="/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_1.html">1</A>

<A HREF="/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_2.html">2</A>

<A HREF="/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_3.html">3</A>


<A HREF=/home/eco/bin/apps/static-rss/html/feeds/827d5aaa07ab318d316d3f7aceaf034d76486ffb5d0daf301678b301/page_3.html>></A>

</DIV>

</DIV>
</DIV>
</BODY>
</HTML>
